/* ===============================
   ‚ú® GLOBAL STYLES & VARIABLES
   =============================== */
:root {
  --primary-color: #1557d5; /* Main blue */
  --primary-light: #7ba8ff;
  --primary-dark: #0e47aa;
  --primary-text: #1849b0;

  --card-bg: #ffffff;
  --card-bg-alt: #f0f6ff; /* Lighter blue for alt cards/backgrounds */
  --card-shadow: 0 18px 40px rgba(0, 0, 0, 0.08);
  --card-radius: 16px;

  --text-primary: #1b2b57; /* Dark blue for text on light backgrounds */
  --text-secondary: #6a7fb7; /* Lighter blue/gray for labels, muted text */
  --text-on-dark: #e9f1ff; /* Light text for dark backgrounds (sidebar) */
  --text-white: #ffffff;

  --border-color: #eef2ff;
  --border-color-alt: #cfe0ff;

  --success-color: #00b96b;
  --warning-color: #ffb020;
  --danger-color: #ff5a64;
  --disabled-color: #d8e1ff;
  --disabled-border: #bcd0ff;

  --sidebar-w: 260px;
  --sidebar-offset: 60px;   /* distance from left on desktop */
  --sidebar-top: 120px;     /* distance from top on desktop */
}

* {
  box-sizing: border-box;
}

html,
body {
  height: 100%;
}

body {
  margin: 0;
  font-family: Inter, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
  color: var(--text-primary);
  line-height: 1.6;
}

/* ===============================
   üñºÔ∏è BACKGROUND & LAYOUT
   =============================== */
.bg {
  /* Layered background: subtle gradient on top of the background image.
     Use a relative path that goes up one level from this CSS file to the
     project's `img/` folder. Also provide a sensible fallback color. */
  background-color: #f7fbff;
  background-image: 
    linear-gradient(rgba(21, 87, 213, .08), rgba(21, 87, 213, .08)),
    url('../img/bg.png');
  background-position: center;
  background-size: cover;
  background-repeat: no-repeat;
  background-attachment: fixed;
}

.layout {
  display: block; /* Use block for fixed sidebar layout */
  width: 100%;
  min-height: 100vh;
}

/* ===============================
   üß≠ SIDEBAR
   =============================== */
.sidebar {
  background: var(--primary-dark);
  color: var(--text-on-dark);
  border-radius: 18px;
  padding: 18px;
  position: fixed;
  left: var(--sidebar-offset);
  top: var(--sidebar-top);
  bottom: 40px; /* Space at the bottom */
  width: var(--sidebar-w);
  z-index: 1000;
  display: flex;
  flex-direction: column;
  overflow-y: auto; /* Enable scroll if content overflows */
  overflow-x: hidden;
}

.side-title {
  display: flex;
  align-items: center;
  justify-content: flex-start; /* Default for desktop */
  gap: 10px;
  font-weight: 800;
  font-size: 20px;
  margin-bottom: 14px;
  position: relative; /* For close button positioning */
  padding-right: 40px; /* Space for close button if needed */
}
.side-title .hat { /* Placeholder for potential hat icon */
  /* Add styles if you have a hat icon */
}

.side-btn,
.side-btn-bottom {
  display: flex;
  align-items: center;
  gap: 10px;
  width: 100%;
  padding: 12px 12px;
  margin: 6px 0; /* Slightly reduced margin */
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, .15);
  background: rgba(255, 255, 255, .06);
  color: var(--text-on-dark);
  text-decoration: none;
  transition: background 0.2s ease;
}

.side-btn:hover,
.side-btn-bottom:hover {
  background: rgba(255, 255, 255, .12);
}

.side-btn.active {
  background: var(--text-white);
  color: var(--primary-dark);
  font-weight: 800;
}

.side-btn-bottom {
  margin-top: auto; /* Pushes to the bottom */
}

/* Scrollbar styling for sidebar */
.sidebar::-webkit-scrollbar {
  width: 6px;
}
.sidebar::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.25);
  border-radius: 3px;
}

/* ===============================
   üìÑ MAIN CONTENT AREA
   =============================== */
main {
  margin-left: calc(var(--sidebar-offset) + var(--sidebar-w) + 20px); /* Space for fixed sidebar */
  min-height: 100vh;
  padding: 20px 40px 40px 20px; /* Added top padding, adjusted others */
  overflow-y: auto; /* Enable scrolling for main content */
  max-height: 100vh; /* Prevent body scroll */
}

.page-head {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 24px; /* Increased bottom margin */
  margin-top: 0; /* Reset margin-top from potential inline styles */
  flex-wrap: wrap; /* Allow wrapping */
  gap: 10px; /* Add gap for wrapping */
}

.page-head h2 {
  margin: 0;
  color: var(--text-white);
  text-shadow: 2px 2px 3px #182747;
  font-size: 28px; /* Slightly larger heading */
  white-space: nowrap; /* Prevent title breaking */
}

.page-head .badge { /* Student/Admin badge positioning */
  margin-left: auto; /* Pushes to the right */
  flex-shrink: 0; /* Prevent shrinking */
}

.page-head #student-track { /* Style for track info */
  color: #040431; /* Use the specific color provided */
  font-weight: 600;
  margin-left: 10px; /* Space from heading if needed */
  flex-shrink: 0;
  white-space: nowrap;
}

/* Generic content panel/card */
.panel,
.card {
  background: var(--card-bg);
  color: var(--text-primary);
  border-radius: var(--card-radius);
  box-shadow: var(--card-shadow);
  padding: 24px; /* Default padding */
  margin-bottom: 20px; /* Space between cards/panels */
}
.card {
  padding: 20px; /* Cards might have slightly less padding */
  overflow-x: auto; /* Allow horizontal scroll for tables inside cards */
}

/* ===============================
   üì± MOBILE & RESPONSIVE (Off-Canvas Sidebar)
   =============================== */
.mobile-topbar {
  display: none; /* Hidden by default */
  position: fixed;
  left: 16px;
  top: 16px;
  z-index: 1200;
}

.hamburger { /* Base style for both open/close buttons */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  border-radius: 8px;
  border: 1px solid rgba(255, 255, 255, .25);
  background: rgba(255, 255, 255, .15);
  color: var(--text-on-dark);
  font-size: 20px;
  cursor: pointer;
}

.side-close { /* The 'X' button inside the sidebar */
  display: none; /* Hidden by default */
  position: absolute;
  top: 10px;
  right: 10px;
  background: rgba(255, 255, 255, .12);
  color: var(--text-on-dark);
}

@media (max-width: 1024px) {
  main {
    margin-left: 0;
    padding: 16px; /* Reduced padding for smaller screens */
  }

  .sidebar {
    left: 0;
    top: 0;
    bottom: 0;
    transform: translateX(-100%);
    transition: transform .25s ease;
    border-radius: 0; /* Full height sidebar on mobile */
  }

  .sidebar.is-open {
    transform: translateX(0);
  }

  .mobile-topbar {
    display: block; /* Show hamburger on mobile */
  }

  .side-title {
    justify-content: space-between; /* Space out title and close button */
  }

  .side-close {
    display: inline-flex; /* Show close button */
  }

  /* Hide hamburger when sidebar is open */
  .sidebar.is-open ~ main .mobile-topbar {
    display: none !important;
  }

  /* Prevent body scroll when menu is open */
  body.menu-open {
    overflow: hidden;
  }
}

/* ===============================
   üîí LOGIN PAGE SPECIFIC STYLES
   =============================== */
body.bg.login-page {
  display: flex !important; /* Override grid */
  flex-direction: column;
  align-items: center;
  justify-content: center !important; /* Force vertical center */
  min-height: 100vh;
  padding: 20px;
  gap: 14px;
}

body.bg.login-page .brand {
  position: static !important;
  transform: none !important;
  margin: 0 auto 10px;
  display: flex;
  align-items: center;
  justify-content: center;
}

body.bg.login-page .logo {
  max-width: 120px; /* Compact logo */
  height: auto;
}

body.bg.login-page main.login-wrap {
  margin-left: 0 !important; /* Override main margin */
  min-height: auto !important; /* Override main min-height */
  flex: none;
  width: 100%;
  max-width: 380px; /* Compact login box */
  padding: 10px 18px 12px;
  background: linear-gradient(180deg, var(--card-bg-alt), var(--primary-dark)); /* Adjusted gradient */
  border-radius: 18px; /* Slightly smaller radius */
  box-shadow: 0 15px 40px rgba(17, 52, 140, .25);
}

body.bg.login-page .title {
  font-size: 24px;
  margin: 8px 0 6px;
  color: var(--text-white); /* Title color on dark gradient */
  text-align: center;
  font-weight: 800;
}

body.bg.login-page label {
  margin: 8px 0 4px 6px; /* Adjusted spacing */
  font-size: 13px;
  color: var(--text-on-dark); /* Label color on dark gradient */
  font-weight: 600;
}

body.bg.login-page .input {
  height: 40px; /* Compact input */
  font-size: 14px;
  border-radius: 12px;
  padding: 0 12px;
  background: rgba(255, 255, 255, 0.9); /* Slightly more opaque */
  color: var(--text-primary);
  border: none;
}
body.bg.login-page .input::placeholder {
    color: #99aabb; /* Lighter placeholder */
}

body.bg.login-page .row { /* For password toggle positioning */
  position: relative;
}

body.bg.login-page .toggle {
  position: absolute;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);
  background: transparent;
  border: none;
  color: var(--text-secondary); /* Muted color for toggle */
  cursor: pointer;
  padding: 4px;
  font-size: 12px; /* Smaller toggle text */
}

body.bg.login-page .actions {
  display: flex;
  justify-content: center;
  margin-top: 14px; /* Adjusted spacing */
}

body.bg.login-page .btn { /* Login button */
  height: 38px;
  font-size: 14px;
  padding: 0 22px; /* Adjusted padding */
  border-radius: 18px;
  color: var(--primary-color);
  background: var(--text-white);
  box-shadow: 0 6px 15px rgba(255, 255, 255, .15);
  font-weight: 800;
  letter-spacing: 0.5px;
}

body.bg.login-page .foot {
  text-align: center;
  color: var(--text-on-dark); /* Footer text on dark */
  font-size: 12px;
  margin-top: 8px;
  opacity: 0.8; /* Slightly faded footer */
}

/* ===============================
   üìù FORMS & INPUTS (General)
   =============================== */
label {
  display: block;
  font-size: 14px;
  margin: 10px 0 6px 4px;
  color: var(--text-secondary); /* Use secondary text color for labels */
  font-weight: 600;
}

/* Base Input Style */
input[type="text"].input,
input[type="password"].input,
input[type="number"].input,
input[type="email"].input,
input.ip,     /* Inputs in modals */
input.sm,     /* Small inputs in modals */
input.inputelec, /* Elective inputs */
input.search, /* Search inputs */
select /* Grade selects */
{
  height: 38px;
  border: 1px solid var(--border-color-alt);
  border-radius: 10px;
  padding: 0 12px;
  font-size: 14px;
  background: var(--card-bg); /* White background */
  color: var(--text-primary);
  transition: border-color 0.2s, box-shadow 0.2s;
  width: 100%; /* Make inputs generally full width */
}
input[type="text"].input:focus,
input[type="password"].input:focus,
input[type="number"].input:focus,
input[type="email"].input:focus,
input.ip:focus,
input.sm:focus,
input.inputelec:focus,
input.search:focus,
select.sel:focus,
select.grade:focus {
  outline: none;
  border-color: var(--primary-color);
  box-shadow: 0 0 0 3px rgba(21, 87, 213, 0.1);
}

/* Input variations */
input.sm { height: 36px; } /* Slightly smaller inputs */
input.inputelec { width: 100%; text-align: left; padding: 5px 10px; height: 30px; border-radius: 6px; box-shadow: none; font-size: 13px; }
input.search { flex: 1; min-width: 150px; } /* Search input specific */

/* Select specific styles */
select.sel, select.grade {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236B7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3E%3C/svg%3E");
  background-position: right 0.5rem center;
  background-repeat: no-repeat;
  background-size: 1.5em 1.5em;
  padding-right: 2.5rem; /* Space for arrow */
  cursor: pointer;
}

/* ===============================
   üëÜ BUTTONS (General)
   =============================== */
.btn, /* Base button */
.btn-sm, /* Small buttons (Add/Edit/Del) */
.calc, /* Calculator buttons */
.addbtn, /* Add course/elective */
.search-btn, /* Search button */
.pill-btn, /* Planner component add/remove */
button /* Default button style */
 {
  border: none;
  border-radius: 999px; /* Pill shape default */
  padding: 10px 18px;
  font-weight: 800;
  cursor: pointer;
  text-align: center;
  transition: background 0.2s, transform 0.1s, box-shadow 0.2s;
  font-size: 14px;
  line-height: 1.2; /* Ensure text fits */
  white-space: nowrap;
}
.btn:hover,
.btn-sm:hover,
.calc:hover,
.addbtn:hover,
.search-btn:hover,
.pill-btn:hover {
  transform: translateY(-1px); /* Subtle lift on hover */
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}

/* Specific Button Styles & Colors */
.btn-sm { padding: 8px 14px; font-size: 13px; }
.btn-add, .calc.save { background: #2e7d32; color: var(--text-white); } /* Green */
.btn-edit { background: var(--primary-color); color: var(--text-white); } /* Blue */
.btn-del, .calc.exit { background: #ef5350; color: var(--text-white); } /* Red */
.calc { background: var(--primary-color); color: var(--text-white); border-radius: 10px; } /* Calc buttons more square */
.addbtn { background: var(--primary-color); color: var(--text-white); display: inline-flex; gap: 8px; align-items: center; }
.search-btn { background: var(--primary-color); color: var(--text-white); border-radius: 8px; height: 38px; padding: 0 16px; }
.pill-btn { border-radius: 999px; padding: 8px 14px; background: #f1f6ff; border: 1px solid var(--border-color-alt); color: var(--text-primary); }
.pill-btn.remove { color: var(--danger-color); padding: 6px 10px; font-size: 12px; }

.right { /* Button group alignment */
  display: flex;
  gap: 10px;
  justify-content: flex-end;
  margin-top: 16px;
}

/* Action button ('...') */
.action {
  background: none;
  border: none;
  font-size: 20px;
  color: var(--text-secondary);
  cursor: pointer;
  padding: 0;
  line-height: 1;
}

/* ===============================
   üìä TABLES
   =============================== */
table {
  width: 100%;
  border-collapse: separate; /* Use separate for spacing/border-radius */
  border-spacing: 0;
  margin-bottom: 16px; /* Space below tables */
}

th, td {
  padding: 10px 12px;
  border-bottom: 1px solid var(--border-color);
  text-align: center;
  vertical-align: middle; /* Ensure vertical alignment */
  font-size: 14px; /* Consistent font size */
}

th {
  font-weight: 700; /* Slightly less bold */
  color: var(--text-secondary); /* Muted header text */
  background: #f9faff; /* Very light blue background for headers */
  font-size: 12px; /* Smaller header font */
  text-transform: uppercase;
  letter-spacing: 0.5px;
  position: sticky; /* Make headers sticky if table scrolls */
  top: 0;
  z-index: 1;
}

/* Zebra striping for readability */
tbody tr:nth-child(even) {
  background: rgba(240, 246, 255, 0.5); /* Very light alternating row color */
}
tbody tr:hover {
  background: rgba(230, 238, 255, 0.7); /* Hover effect */
}

tr:last-child td {
  border-bottom: none;
}

/* Table Headings/Separators within Cards */
.tbl-head {
  font-size: 18px;
  font-weight: 800;
  margin: 16px 0 8px;
  color: var(--primary-dark);
  padding-bottom: 4px;
  border-bottom: 1px solid var(--border-color); /* Underline section heads */
}
.sub-head {
  font-size: 14px;
  color: var(--text-secondary);
  margin-bottom: 12px;
}

/* Add spacing below the main page heading */
.page-head {
  margin-bottom: 8px; 
  text-align: right;
}

/* Add spacing below the user info block */
.user-info-header {
  margin-bottom: 20px;
  text-align: right;
}

/* Style for the track info text */
.user-info-header .muted {
  font-size: 14px; /* Slightly smaller */
  margin-top: 4px; /* Space below the badge */
  color: var(--text-secondary);
}

/* ===============================
   üì£ MODALS (Dialog)
   =============================== */
dialog {
  border: none;
  border-radius: 18px;
  padding: 0;
  max-width: 760px;
  width: 92vw;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
}

dialog::backdrop {
  background: rgba(0, 0, 0, .3); /* Slightly darker backdrop */
  backdrop-filter: blur(2px); /* Optional blur */
}

.modal {
  background: var(--card-bg);
  border-radius: 18px;
  overflow: hidden; /* Ensures content respects border radius */
}

.modal-h { /* Header */
  background: var(--primary-color);
  color: var(--text-white);
  padding: 14px 18px;
  font-weight: 800;
  font-size: 18px;
}

.modal-b { /* Body */
  padding: 20px;
  color: var(--text-primary);
}

/* Grid layouts within modals */
.grid { /* Admin curriculum modal */
  display: grid;
  grid-template-columns: 100px 100px 140px 1fr 90px; /* Adjusted based on likely content */
  gap: 10px;
  align-items: center;
  margin-bottom: 16px;
}
.grid2 { /* Planner modal */
  display: grid;
  grid-template-columns: 1fr 1fr 120px;
  gap: 12px;
  margin-bottom: 12px;
  align-items: center;
}
.comp-row { /* Planner components row */
  display: grid;
  grid-template-columns: 1fr 100px 90px 90px 50px; /* Adjusted for smaller remove button */
  gap: 8px;
  align-items: center;
  margin: 8px 0; /* Increased margin */
}
.comp-row:first-of-type { /* Header row for components */
    font-weight: 700;
    color: var(--text-secondary);
    font-size: 13px;
    margin-bottom: 4px;
}

/* Radio buttons in modal */
.radio {
  display: flex;
  gap: 16px; /* Increased gap */
  align-items: center;
  margin: 10px 0 14px;
}
.radio label {
  margin: 0; /* Reset label margin */
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 14px;
  color: var(--text-primary);
  cursor: pointer;
}
.radio input[type="radio"] {
  accent-color: var(--primary-color); /* Style the radio button itself */
}

/* Result display in planner modal */
#result {
  text-align: center;
  margin-top: 16px;
  font-weight: 800;
  color: var(--primary-color);
  background: #f0f6ff;
  padding: 10px;
  border-radius: 8px;
  font-size: 15px; /* Slightly larger result text */
}

/* ===============================
   üß© SPECIFIC PAGE COMPONENTS
   =============================== */

/* --- Grade Entry --- */
.toolbar { /* Filter bar */
  display: flex;
  flex-wrap: wrap;
  gap: 12px 24px;
  padding: 16px;
  background: #f7faff;
  border-radius: 12px;
  margin-bottom: 20px;
  border: 1px solid var(--border-color);
}
.toolbar label { /* Container for label+select */
  margin: 0; /* Reset */
}
.toolbar h4 { /* Label text (Year, Semester) */
  margin: 0;
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 15px; /* Slightly smaller */
  font-weight: 700;
  color: var(--text-secondary);
}
select.sel { /* The dropdown itself */
  color: var(--primary-color);
  font-weight: 800;
  font-size: 15px;
  background: var(--card-bg);
  border: 1px solid var(--border-color-alt);
  border-radius: 8px;
  padding: 4px 2.5rem 4px 10px; /* Adjusted padding */
  height: auto;
  width: auto;
}
select.sel:disabled {
  background: #f0f6ff;
  color: var(--text-secondary);
  border-color: var(--border-color);
  cursor: not-allowed;
  opacity: 0.7;
}
select.grade { /* Grade dropdown in tables */
  background: #f7faff;
  border-radius: 999px;
  color: var(--text-primary);
  font-weight: 700; /* Slightly less bold */
  font-size: 14px;
  padding: 6px 2.5rem 6px 12px;
  box-shadow: 0 0 0 1px var(--border-color-alt) inset;
  height: auto;
  width: 90px; /* Give grade dropdown fixed width */
  text-align: center;
  text-align-last: center; /* Center selected option in FF */
  margin: 0 auto; /* Center in table cell */
}
select.grade option {
  color: var(--text-primary);
  background: var(--card-bg);
}
.ft { /* Footer stats */
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); /* Responsive columns */
  gap: 16px;
  margin-top: 24px;
}
.stat { /* Individual stat box */
  background: #f7faff;
  border-radius: 12px; /* Slightly smaller radius */
  padding: 16px;
  color: var(--text-primary);
  text-align: center;
  border: 1px solid var(--border-color);
}
.stat div { /* Stat label */
  color: var(--text-secondary);
  font-weight: 800;
  font-size: 13px; /* Smaller label */
  margin-bottom: 4px;
  text-transform: uppercase;
}
.stat b { /* Stat value */
  font-size: 28px; /* Slightly smaller value */
  color: var(--primary-color);
  display: block; /* Ensure it takes full width */
}

/* --- Planner --- */
.planner-container, /* Optional wrapper for planner content */
.planner-area,
.planner-wrap {
  margin: 0 auto; /* Center horizontally, remove fixed top margin */
}
/* --- Planner --- */
.hdr { /* Header row for planner list */
  display: grid;
  /* Adjust columns - use fr units or percentages */
  grid-template-columns: 100px 1fr 70px 70px 70px 50px; /* Example: Reduced fixed widths, allow name to flex */
  gap: 10px;
  align-items: center;
  font-weight: 700;
  color: var(--text-secondary);
  font-size: 12px; /* Smaller font */
  text-transform: uppercase;
  padding: 0 10px 6px;
  border-bottom: 1px solid var(--border-color);
  margin-bottom: 6px;
  white-space: nowrap; /* Prevent wrapping in header */
  max-width: 100%; /* Constrain header width */
  box-sizing: border-box;
}

/* Adjust the course list rows similarly if needed */
.rowx { /* Grid layout inside planner card */
  display: grid;
  /* Match columns with .hdr adjustments */
  grid-template-columns: 100px 1fr 70px 70px 70px 50px;
  gap: 10px;
  align-items: center;
  max-width: 100%;
  box-sizing: border-box;
}
.rowx div:nth-child(2) { /* Course name */
    white-space: normal; /* Allow name to wrap */
    font-size: 14px;
}
.list-card { /* Individual course card in planner */
  background: var(--card-bg);
  border-radius: 12px; /* Slightly smaller */
  box-shadow: 0 6px 15px rgba(0, 0, 0, .06);
  padding: 12px 10px; /* Consistent padding */
  margin: 10px 0;
  color: var(--text-primary);
}
.rowx div { /* Ensure cells don't wrap unexpectedly */
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.rowx b { /* Bold elements (code, grade) */
  font-weight: 800;
}
.rowx div:nth-child(n+3) { /* Align numeric columns center */
  text-align: center;
}
.rowx div:last-child { /* Action button column */
  text-align: right;
}

.center { /* Centered Add button container */
  display: flex;
  justify-content: center;
  margin: 24px 0;
}
.est { /* Estimated GPS display */
  background: #f0f6ff;
  color: var(--primary-color);
  border: 1px solid var(--border-color-alt);
  border-radius: 12px;
  padding: 16px;
  text-align: center;
  font-weight: 800;
  font-size: 18px;
  margin-top: 20px; /* Add margin above */
}
#gps { /* The GPS value itself */
  font-size: 20px;
  margin-left: 6px; /* Space between label and value */
}
.context-menu { /* Action menu */
  position: absolute;
  background: var(--card-bg);
  box-shadow: 0 6px 20px rgba(0, 0, 0, .15);
  border-radius: 10px;
  display: flex;
  flex-direction: column;
  z-index: 1000;
  min-width: 120px;
  padding: 6px;
  border: 1px solid var(--border-color);
}
.context-menu button {
  border: none;
  background: none;
  padding: 8px 12px; /* Slightly more padding */
  text-align: left;
  font-size: 14px;
  color: var(--text-primary);
  border-radius: 6px;
  cursor: pointer;
  display: flex; /* For icons */
  align-items: center;
  gap: 8px;
}
.context-menu button:hover {
  background: #f1f5ff;
  color: var(--primary-color);
}
.context-menu button.delete { /* Make delete red */
    color: var(--danger-color);
}
.context-menu button.delete:hover {
    background: #ffebee; /* Light red background */
}

/* --- Dashboard --- */
.dash-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); /* Responsive columns */
  grid-auto-rows: auto;
  gap: 20px;
  margin-top: 20px; /* Space from panel */
}
.dash-card {
  background: var(--card-bg);
  border-radius: var(--card-radius);
  box-shadow: var(--card-shadow);
  padding: 24px; /* Increased padding */
  color: var(--text-primary);
  border: 1px solid var(--border-color); /* Add subtle border */
  display: flex; /* Use flex for vertical alignment */
  flex-direction: column;
}
.dash-card.big { /* GPAX, GPA cards */
  text-align: center;
}
.dash-card.wide { /* Chart card */
  grid-column: 1 / -1; /* Span full width on multi-column layouts */
  min-height: 340px; /* Ensure chart has enough height */
}
@media (min-width: 768px) {
  .dash-grid {
    grid-template-columns: 1fr 1fr; /* 2 columns on medium screens */
  }
   .dash-card.wide {
     grid-column: span 2; /* Span both columns */
   }
}
@media (min-width: 1024px) {
 /* Example layout for larger screens (customize as needed) */
 .dash-grid {
     grid-template-columns: 1fr 1fr 2fr; /* e.g., GPAX | GPA | Chart */
     grid-template-rows: auto auto;
   }
   .dash-card.big:nth-child(1) { grid-column: 1; grid-row: 1; }
   .dash-card.big:nth-child(2) { grid-column: 2; grid-row: 1; }
   .dash-card.wide { grid-column: 3; grid-row: 1 / span 2; } /* Chart takes 2 rows */
   .dash-card.grade-list { grid-column: 1 / span 2; grid-row: 2; } /* History below GPA cards */
}

.dash-title { /* Title within dash card (GPAX, GPA, History) */
  font-weight: 700; /* Slightly less bold */
  color: var(--text-secondary);
  text-align: center;
  font-size: 14px; /* Smaller, cleaner title */
  margin-bottom: 8px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}
.dash-value { /* Big GPAX/GPA numbers */
  font-size: 48px;
  font-weight: 800;
  color: var(--primary-color);
  line-height: 1.1;
  margin: auto 0; /* Vertically center value in flex card */
}
.dash-card.grade-list { /* History card */
  padding-bottom: 16px; /* Reduce bottom padding */
}
.grades { /* List inside history card */
  display: flex;
  flex-direction: column;
  gap: 10px; /* Increased gap */
  margin-top: 10px;
  flex-grow: 1; /* Allow list to grow */
  overflow-y: auto; /* Scroll if list is too long */
  max-height: 200px; /* Limit history height */
}
.grades div { /* Each history row */
  display: flex;
  justify-content: space-between;
  border-bottom: 1px solid var(--border-color);
  padding: 6px 4px; /* Adjusted padding */
  font-weight: 600;
  font-size: 14px;
}
.grades span { /* Term label */
 color: var(--text-secondary);
}
.grades b { /* GPA value */
  color: var(--primary-color);
}
/* Chart container */
#curve_chart {
    width: 100%;
    height: 100%;
    min-height: 280px; /* Ensure minimum height */
}

/* --- Admin Pages Specific --- */
.admin-page main {
  /* No specific override needed if general main padding is okay */
}
.admin-page .page-head .badge { /* Admin panel badge */
      background: #4c6ef5;
      padding: 5px 12px;
      border-radius: 10px;
      color: white;
      font-weight: bold;
      font-size: 14px;
}
.admin-page .topbar { /* Toolbar with Add/Edit/Del */
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap; /* Allow wrapping */
  gap: 10px;
}
.admin-page .topbar .toolbar { /* Button group */
  padding: 0;
  background: none;
  border: none;
  margin-bottom: 0;
  gap: 10px; /* Add gap between buttons */
}
/* Style for admin name display next to the badge */
.admin-name-display {
  font-size: 13px;
  color: var(--text-secondary); /* ‡∏´‡∏£‡∏∑‡∏≠ var(--text-white) ‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏Ç‡∏≤‡∏ß */
  margin-left: 8px; /* ‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å badge */
  font-weight: 600;
}

/* Ensure header items align nicely */
.page-head > div {
    display: flex;
    align-items: center; /* ‡∏à‡∏±‡∏î badge ‡∏Å‡∏±‡∏ö‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á */
}
.search-bar-container { /* Filter/Search bar */
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 20px;
  flex-wrap: wrap; /* Allow wrapping */
  background: rgba(14, 71, 170, 0.1); /* Lighter blue bg */
  padding: 12px 16px;
  border-radius: 12px;
}
.search-bar-container select,
.search-bar-container input.search {
  height: 38px;
  padding: 0 12px;
  border-radius: 8px;
  border: 1px solid var(--border-color-alt);
  background: var(--card-bg);
  color: var(--text-primary);
  outline: none;
  transition: all 0.2s ease-in-out;
}
.search-bar-container select option {
    color: var(--text-primary);
    background: var(--card-bg);
}
.search-bar-container select {
    min-width: 120px; /* Give selects minimum width */
    width: auto;
}
.search-bar-container input.search {
  flex: 1; /* Allow search input to grow */
  min-width: 200px; /* Minimum width */
}
.search-bar-container select:focus,
.search-bar-container input.search:focus {
  border-color: var(--primary-color);
  box-shadow: 0 0 0 3px rgba(21, 87, 213, 0.1);
}
.search-bar-container .search-btn { /* Override general button */
  background: var(--primary-color);
  color: var(--text-white);
}
.search-bar-container .search-btn:hover {
  background: var(--primary-dark);
}

/* Curriculum Management Grouping */
#courseGroupContainer h3 { /* Year header */
    margin-top: 24px;
    margin-bottom: 8px;
    color: var(--primary-dark);
    font-size: 20px;
    border-bottom: 2px solid var(--primary-light);
    padding-bottom: 4px;
}
#courseGroupContainer h4 { /* Semester header */
    margin-top: 16px;
    margin-bottom: 8px;
    color: var(--primary-color);
    font-size: 16px;
}
.track-group-wrapper {
  margin-left: 20px;
  padding-left: 15px;
  border-left: 2px solid var(--border-color);
  margin-bottom: 16px;
}
.track-group {
  margin-bottom: 12px;
  background: #f9faff; /* Slightly different background for track group */
  padding: 16px; /* Increased padding */
  border-radius: 8px;
  border: 1px solid var(--border-color);
}
.track-group h5 { /* Track name header */
  margin-top: 0;
  margin-bottom: 10px; /* Increased margin */
  color: var(--text-secondary);
  font-size: 14px;
  font-weight: 700;
}
.track-group table { /* Inner table */
    margin-bottom: 0; /* Remove bottom margin */
}
.track-group th, .track-group td {
    font-size: 13px; /* Smaller font for inner table */
    padding: 8px 10px;
}
.track-group input[type="radio"] {
    accent-color: var(--primary-color);
    cursor: pointer;
}

/* Status dots in admin-students table */
.ic { /* Container */
    display: inline-flex;
    align-items: center;
    gap: 6px;
    font-weight: 600; /* Normal weight */
    font-size: 13px;
}
.ic .dot { /* The dot itself */
  width: 10px;
  height: 10px;
  border-radius: 50%;
}
.ic.pass { color: var(--success-color); }
.ic.warn { color: var(--warning-color); }
.ic.fail { color: var(--danger-color); }
.ic.pass .dot { background: var(--success-color); }
.ic.warn .dot { background: var(--warning-color); }
.ic.fail .dot { background: var(--danger-color); }

.btnViewGrade { /* History button in student table */
    background: none;
    color: var(--primary-color);
    border: none;
    border-radius: 6px;
    padding: 5px 8px; /* Adjust padding */
    cursor: pointer;
    transition: background 0.2s, color 0.2s;
    font-size: 16px; /* Ensure emoji size is consistent */
    line-height: 1;
}
.btnViewGrade:hover {
    background: #eef2ff; /* Light blue background on hover */
    color: var(--primary-dark);
}

/* ===============================
   üõ†Ô∏è UTILITIES
   =============================== */
.hidden { display: none; }
.text-center { text-align: center; }
.text-right { text-align: right; }
.bold { font-weight: 800; }
.muted { color: var(--text-secondary); }
.text-secondary {
  color: var(--text-secondary);
  font-size: 0.9em; }